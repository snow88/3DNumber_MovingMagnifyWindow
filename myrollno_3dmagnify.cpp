#include<iostream>
#include<graphics.h>
#include<graphics_ts.h>                 ///my graphics library, you can find it at: github.com/snow88/TheTSGraphicsLibrary
using namespace std;

int np = 21;
int n[50] = {8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8,8};
vertex polylist[50][20] = {
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},
                             {{-10,30,10}, {10,30,10}, {10,-30,10}, {-10,-30,10}, {-10,30,-10}, {10,30,-10}, {10,-30,-10}, {-10,-30,-10}},

                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                             {{-30,10,10}, {30,10,10}, {30,-10,10}, {-30,-10,10}, {-30,10,-10}, {30,10,-10}, {30,-10,-10}, {-30,-10,-10}},
                        };

int xc[50] = {50,50,100,150,200,200,250,250,300,300,350,350, 125,125,125,225,225,225,325,325,325};
int yc[50] = {50,150,50,150,50,150,50,150,50,150,50,150, 10,100,200,10,100,200,10,100,200};
int type[50] = {0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0};

vertex polylist2[50][20] = {
                             {{50,30,10}, {70,30,10}, {70,90,10}, {50,90,10}, {50,30,-10}, {70,30,-10}, {70,90,-10}, {50,90,-10}},
                             {{50,110,10}, {70,110,10}, {70,170,10}, {50,170,10}, {50,110,-10}, {70,110,-10}, {70,170,-10}, {50,170,-10}},
                             {{100,30,10}, {120,30,10}, {120,90,10}, {100,90,10}, {100,30,-10}, {120,30,-10}, {120,90,-10}, {100,90,-10}},
                             {{150,110,10}, {170,110,10}, {170,170,10}, {150,170,10}, {150,110,-10}, {170,110,-10}, {170,170,-10}, {150,170,-10}},
                             {{200,30,10}, {220,30,10}, {220,90,10}, {200,90,10}, {200,30,-10}, {220,30,-10}, {220,90,-10}, {200,90,-10}},
                             {{250,30,10}, {270,30,10}, {270,90,10}, {250,90,10}, {250,30,-10}, {270,30,-10}, {270,90,-10}, {250,90,-10}},
                             {{300,30,10}, {320,30,10}, {320,90,10}, {300,90,10}, {300,30,-10}, {320,30,-10}, {320,90,-10}, {300,90,-10}},
                             {{350,30,10}, {370,30,10}, {370,90,10}, {350,90,10}, {350,30,-10}, {370,30,-10}, {370,90,-10}, {350,90,-10}},
                             {{200,110,10}, {220,110,10}, {220,170,10}, {200,170,10}, {200,110,-10}, {220,110,-10}, {220,170,-10}, {200,170,-10}},
                             {{250,110,10}, {270,110,10}, {270,170,10}, {250,170,10}, {250,110,-10}, {270,110,-10}, {270,170,-10}, {250,170,-10}},
                             {{300,110,10}, {320,110,10}, {320,170,10}, {300,170,10}, {300,110,-10}, {320,110,-10}, {320,170,-10}, {300,170,-10}},
                             {{350,110,10}, {370,110,10}, {370,170,10}, {350,170,10}, {350,110,-10}, {370,110,-10}, {370,170,-10}, {350,170,-10}},

                             {{100,10,10}, {160,10,10}, {160,30,10}, {100,30,10}, {100,10,-10}, {160,10,-10}, {160,30,-10}, {100,30,-10}},
                             {{100,90,10}, {160,90,10}, {160,110,10}, {100,110,10}, {100,90,-10}, {160,90,-10}, {160,110,-10}, {100,110,-10}},
                             {{100,180,10}, {160,180,10}, {160,200,10}, {100,200,10}, {100,180,-10}, {160,180,-10}, {160,200,-10}, {100,200,-10}},
                             {{200,10,10}, {260,10,10}, {260,30,10}, {200,30,10}, {200,10,-10}, {260,10,-10}, {260,30,-10}, {200,30,-10}},
                             {{200,90,10}, {260,90,10}, {260,110,10}, {200,110,10}, {200,90,-10}, {260,90,-10}, {260,110,-10}, {200,110,-10}},
                             {{200,180,10}, {260,180,10}, {260,200,10}, {200,200,10}, {200,180,-10}, {260,180,-10}, {260,200,-10}, {200,200,-10}},
                             {{300,10,10}, {360,10,10}, {360,30,10}, {300,30,10}, {300,10,-10}, {360,10,-10}, {360,30,-10}, {300,30,-10}},
                             {{300,90,10}, {360,90,10}, {360,110,10}, {300,110,10}, {300,90,-10}, {360,90,-10}, {360,110,-10}, {300,110,-10}},
                             {{300,180,10}, {360,180,10}, {360,200,10}, {300,200,10}, {300,180,-10}, {360,180,-10}, {360,200,-10}, {300,200,-10}}
                        };

int edgemat[50][20][20] = {
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}},
                              {{0, 0, 0, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 0, 0, 0, 0}, {1, 0, 1, 0, 0, 0, 0, 0}, {1, 0, 0, 0, 0, 0, 0, 0}, {0, 1, 0, 0, 1, 0, 0, 0}, {0, 0, 1, 0, 0, 1, 0, 0}, {0, 0, 0, 1, 1, 0, 1, 0}}
                           };
int ns[50] = {6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6};
int surfaces[50][10][10] = {
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                             {{0,1,5,4,-1}, {3,2,6,7,-1}, {0,4,7,3,-1}, {1,5,6,2,-1}, {0,1,2,3,-1}, {4,5,6,7,-1}},
                            };
bool visible[50][10];

int surfacecolors[50][10] = {
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                         {10, 11, 12, 13, 14, 15},
                    };

int main()
{
    int gd=DETECT, gm=0;
    initgraph(&gd, &gm, "C:\\TURBOC3\\BGI");

    hiddensurfacemagnifyrotatemultiple(np, polylist, n, surfaces, ns, visible, surfacecolors, xc, yc, type);

    getch();
    closegraph();
    return 0;
}
